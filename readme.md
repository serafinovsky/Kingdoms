# Kingdoms Game

–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

## üìΩÔ∏è –î–µ–º–æ

https://github.com/serafinovsky/Kingdoms/blob/master/assets/demo.mp4

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å

![Gameplay Demo](./assets/demo.gif)

## üéÆ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth2 (–Ø–Ω–¥–µ–∫—Å, Github)
- –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ WebSocket
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus –∏ Grafana

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

- **Auth Service**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **Cabinet Service**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–∞–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è
- **Rooms Service**: –ò–≥—Ä–æ–≤—ã–µ –∫–æ–º–Ω–∞—Ç—ã –∏ –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥
- **Front Service**: –í–µ–±-–∫–ª–∏–µ–Ω—Ç
- **Media Service**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –º–µ–¥–∏–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**:

  - FastAPI (Python)
  - MongoDB
  - PostgreSQL
  - Redis
  - WebSockets

- **Frontend**:

  - SolidJS
  - TypeScript
  - Vite

- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
  - Docker
  - Traefik
  - Prometheus
  - Grafana

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
export USER_ID=$(id -u)
export GROUP_ID=$(id -g)
git clone https://github.com/serafinovsky/Kingdoms.git
cd Kingdoms
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
cp template.env .env
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
docker compose -f docker-compose.dev.yml -f up -d --build
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ç–µ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```bash
docker compose -f docker-compose.monitoring.yml up -d
```

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- –°–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ front-end: http://localhost:7000
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Traefik: http://localhost:8080
- Grafana: http://localhost:7000/grafana

## üåü –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–ë–æ—Ç—ã**:

   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –±–æ—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö –±–æ—Ç–æ–≤

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:

   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π WebSocket, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –≤—Ä–æ–¥–µ protobuf
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Centrifugo
   - –í–æ–∑–º–æ–∂–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞ Golang

3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:

   - –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å docker-compose, —Å–¥–µ–ª–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ pip –∞ –Ω–µ poetry –¥–ª—è prod
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CI/CD pipeline
